{% extends "map_yandex/wrapper.html" %}

{% block content %}


    {% for dot in dots %}
        <h2>{{ dot.subject }} x: {{ dot.dot_x }} y: {{ dot.dot_y }}</h2>
    {% endfor %}
    <script type="text/javascript">
        ymaps.ready(init);    
        function init(){ 
            var myMap = new ymaps.Map("map", {
                center: [52.29778, 104.29639],
                zoom: 3
            });
            myMap.geoObjects      
            {% for dot in dots %}              
                .add(new ymaps.Placemark([{{ dot.dot_x }}, {{ dot.dot_y }}], {
                    balloonContent: '{{ dot.subject }}',
                    iconCaption: ''
                }))
            {% endfor %}
            ;
        }
    </script>

    
    <div id = "map" style = "width: 100%; height: 750px"></div> 
{% endblock %} 
