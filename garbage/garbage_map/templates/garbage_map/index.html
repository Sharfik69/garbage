{% extends "garbage_map/wrapper.html" %}
{% load staticfiles %}

{% block sidebar %}
    <div class="sidebar_header">
        <img src = "/garbage/photo/download.svg">
    </div>
    <div id="view_index">
        <div class="row sidebar_title">
            <h2> Выберете категорию </h2> 
        </div>
        <div class="nav row" id = "list_garbage">
        {% for cat in categories %} 
            <div class="category_ico col-md-4">
                <img src = "{{ cat.image.url }}" onClick="view_category({{cat.pk}}, false)">
                <p>{{ cat.name }}</p>
            </div>
        {% endfor %}        
        </div>
    </div>
    
    <div id="view_category" style="display:none">
        <div class="row sidebar_title">
            <img src = "/garbage/photo/back.svg" onclick="view_index()" id = "arrow">
            <h2  id = "title_garbage">Определенная категория</h2>
        </div>
    </div>

    <div id="view_firm" style="display:none">
        <div class="row sidebar_title">
            <img src = "/garbage/photo/back.svg" onclick="view_category(-1)" id = "arrow">
            <h2 id = "title_garbage">Какая-то фирма</h2>
        </div>
    </div>
{% endblock %}

{% block main %}
    <script>
        var dots = {{ dots_json|safe }};
        var categories = {{ categories_json|safe }};
        var div_list, myMap, last_cat;
        var list = document.getElementById('list');
        $(function(){
            ymaps.ready(init);
        });

    </script>

    
    <div id = "map" style = "width: 100%; height: 750px"></div> 




{% endblock %} 
